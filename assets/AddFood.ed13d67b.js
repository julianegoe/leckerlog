import{d as f,n as g,o as V,c as v,a as s,t as I,p as $,v as h,F as O,U as w,K as x,V as i,i as m,w as F,T as c,b as R,j as p,u,q as T}from"./index.fa6175bc.js";const U=["for"],k=["id","ame"],b=f({__name:"AppTextInput",props:{label:null,id:null,modelValue:null},emits:["update:modelValue"],setup(e,{emit:a}){const n=g(e.modelValue),t=l=>{a("update:modelValue",l)};return(l,o)=>(V(),v(O,null,[s("label",{class:"relative -bottom-3 left-4 px-1 bg-white text-sm",for:e.id},I(e.label),9,U),$(s("input",{onChange:o[0]||(o[0]=r=>t(n.value)),"onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r),id:e.id,ame:e.id,class:"py-2 px-4 border border-black w-full",type:"text"},null,40,k),[[h,n.value]])],64))}}),C=["for"],B=["id","ame"],S=f({__name:"AppNumberInput",props:{label:null,id:null,modelValue:null},emits:["update:modelValue"],setup(e,{emit:a}){const n=g(e.modelValue),t=l=>{a("update:modelValue",l)};return(l,o)=>(V(),v(O,null,[s("label",{class:"relative -bottom-3 left-4 px-1 bg-white text-sm",for:e.id},I(e.label),9,C),$(s("input",{min:0,max:5,onChange:o[0]||(o[0]=r=>t(n.value)),"onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r),id:e.id,ame:e.id,class:"py-2 px-4 border border-black w-full",type:"number"},null,40,B),[[h,n.value]])],64))}}),q=async e=>{const a=w(i(m,"Restaurants"),x("userId","==","test"),x("name","==",e.restaurant.name)),d=await F(a);let n;if(d.forEach(t=>{n=t.id,console.log(n)}),n){const t=`Restaurants/${n}/foodOrdered`;await c(i(m,t),e.restaurant.foodOrdered[0])}else{const l=await c(i(m,"Restaurants"),{name:e.restaurant.name,cuisine:e.restaurant.cuisine,userId:e.restaurant.userId});await c(i(m,`Restaurants/${l.id}/foodOrdered`),e.restaurant.foodOrdered[0])}},y={class:"m-auto p-2"},A=["onSubmit"],D=s("button",{class:"mt-4 p-2 border border-black",type:"submit"},"Hinzuf\xFCgen",-1),N=f({__name:"AddFood",setup(e){const a=R(()=>({restaurant:{restaurantId:"",name:"",userId:"test",cuisine:"",foodOrdered:[{userId:"test",name:"",rating:0,comment:""}]}})),d=()=>{q(a.value)};return(n,t)=>(V(),v("div",y,[s("form",{onSubmit:T(d,["prevent"])},[p(b,{modelValue:u(a).restaurant.name,"onUpdate:modelValue":t[0]||(t[0]=l=>u(a).restaurant.name=l),label:"Restaurant",id:"restaurant-input"},null,8,["modelValue"]),p(b,{modelValue:u(a).restaurant.cuisine,"onUpdate:modelValue":t[1]||(t[1]=l=>u(a).restaurant.cuisine=l),label:"K\xFCche",id:"cuisine-input"},null,8,["modelValue"]),p(b,{modelValue:u(a).restaurant.foodOrdered[0].name,"onUpdate:modelValue":t[2]||(t[2]=l=>u(a).restaurant.foodOrdered[0].name=l),label:"Gericht",id:"meal-input"},null,8,["modelValue"]),p(S,{modelValue:u(a).restaurant.foodOrdered[0].rating,"onUpdate:modelValue":t[3]||(t[3]=l=>u(a).restaurant.foodOrdered[0].rating=l),label:"Bewertung",id:"rating-input"},null,8,["modelValue"]),D],40,A)]))}});export{N as default};
