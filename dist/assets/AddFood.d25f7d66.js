import{d as b,r as h,o as V,c as g,b as s,t as v,x as I,y as w,F,f as $,U as O,K as x,V as i,p as m,q as U,T as c,g as R,e as p,u,z as T}from"./index.e5595fca.js";const C=["for"],y=["id","ame"],f=b({__name:"AppTextInput",props:{label:null,id:null,modelValue:null},emits:["update:modelValue"],setup(e,{emit:r}){const n=h(e.modelValue),l=a=>{r("update:modelValue",a)};return(a,t)=>(V(),g(F,null,[s("label",{class:"relative -bottom-3 left-4 px-1 bg-white text-sm",for:e.id},v(e.label),9,C),I(s("input",{onChange:t[0]||(t[0]=d=>l(n.value)),"onUpdate:modelValue":t[1]||(t[1]=d=>n.value=d),id:e.id,ame:e.id,class:"py-2 px-4 border border-black w-full",type:"text"},null,40,y),[[w,n.value]])],64))}}),S=["for"],k=["id","ame"],z=b({__name:"AppNumberInput",props:{label:null,id:null,modelValue:null},emits:["update:modelValue"],setup(e,{emit:r}){const n=h(e.modelValue),l=a=>{r("update:modelValue",a)};return(a,t)=>(V(),g(F,null,[s("label",{class:"relative -bottom-3 left-4 px-1 bg-white text-sm",for:e.id},v(e.label),9,S),I(s("input",{min:0,max:5,onChange:t[0]||(t[0]=d=>l(n.value)),"onUpdate:modelValue":t[1]||(t[1]=d=>n.value=d),id:e.id,ame:e.id,class:"py-2 px-4 border border-black w-full",type:"number"},null,40,k),[[w,n.value]])],64))}}),B=$(),q=async e=>{const r=O(i(m,"Restaurants"),x("userId","==",B.userId),x("name","==",e.restaurant.name)),o=await U(r);let n;if(o.forEach(l=>{n=l.id}),n){const l=`Restaurants/${n}/foodOrdered`;try{await c(i(m,l),e.restaurant.foodOrdered[0]),window.alert("Gericht hinzugef\xFCgt")}catch(a){console.log(a)}}else{const a=await c(i(m,"Restaurants"),{name:e.restaurant.name,cuisine:e.restaurant.cuisine,userId:e.restaurant.userId});try{await c(i(m,`Restaurants/${a.id}/foodOrdered`),e.restaurant.foodOrdered[0]),window.alert("Gericht hinzugef\xFCgt")}catch(t){console.log(t)}}},A={class:"m-auto p-2"},D=["onSubmit"],G=s("button",{class:"mt-4 p-2 border border-black",type:"submit"},"Hinzuf\xFCgen",-1),N=b({__name:"AddFood",setup(e){const r=$(),o=R(()=>({restaurant:{restaurantId:"",name:"",userId:r.userId,cuisine:"",foodOrdered:[{userId:r.userId,name:"",rating:0,comment:""}]}})),n=()=>{q(o.value)};return(l,a)=>(V(),g("div",A,[s("form",{onSubmit:T(n,["prevent"])},[p(f,{modelValue:u(o).restaurant.name,"onUpdate:modelValue":a[0]||(a[0]=t=>u(o).restaurant.name=t),label:"Restaurant",id:"restaurant-input"},null,8,["modelValue"]),p(f,{modelValue:u(o).restaurant.cuisine,"onUpdate:modelValue":a[1]||(a[1]=t=>u(o).restaurant.cuisine=t),label:"K\xFCche",id:"cuisine-input"},null,8,["modelValue"]),p(f,{modelValue:u(o).restaurant.foodOrdered[0].name,"onUpdate:modelValue":a[2]||(a[2]=t=>u(o).restaurant.foodOrdered[0].name=t),label:"Gericht",id:"meal-input"},null,8,["modelValue"]),p(z,{modelValue:u(o).restaurant.foodOrdered[0].rating,"onUpdate:modelValue":a[3]||(a[3]=t=>u(o).restaurant.foodOrdered[0].rating=t),label:"Bewertung",id:"rating-input"},null,8,["modelValue"]),G],40,D)]))}});export{N as default};
